---
title: 从2.6.X迁移到2.7.X说明
date: 2022-06-28 23:37:14
permalink: /pages/4848b9/
---

2.7.X较2.6.X最大的不同点有2个：

1.核心包的包路径有些许变化。但是类名都没变。

2.对用户屏蔽了Slot，转而变成了上下文的概念。以前需要你自己自定义slot，现在则是变成了自定义上下文类。你可以把任意的Bean当做上下文传入。

如果你想从2.6.X升级到2.7.X，你需要做以下事情：

* 如果有些类import报红找不到，可以重新import。因为包路径发生了些许改变。
* 以前你的Slot是extend AbsSlot的。现在你需要去掉继承AbsSlot(这个抽象类已经不存在)，然后最好重命名你的类变成`XxxxContext`形式。
* 在组件里，以前你需要先取到Slot对象，然后才能获取数据。现在你需要改成取到上下文对象，`this.getContextBean()`这个方法就可以方便的取到上下文。
* 因为Slot概念在2.7.X中对用户隐藏，但是它依旧存在，以前你获取初始参数是在组件内部通过slot.getRequestData()现在最好改成`this.getRequestData()`方法。

:::tip
其实很多方法，你依旧可以通过获取Slot对象再去调用获取。但是新版本里已经不推荐了。很多方法现在都可以在组件里通过this关键字去获取了。
:::